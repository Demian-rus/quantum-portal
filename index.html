<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
  <title>–ö–≤–∞–Ω—Ç–æ–≤—ã–π –ø–æ—Ä—Ç–∞–ª</title>

  <!-- –í–µ—Å—å CSS —Ç–µ–ø–µ—Ä—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- –°–∫—Ä—ã—Ç—ã–π input –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –≤–≤–æ–¥–∞ -->
  <div id="hidden-input" style="display:none;"></div>

  <!-- ====== –°–¢–ê–†–¢–û–í–´–ô –≠–ö–†–ê–ù ====== -->
  <div id="start-screen" class="start-screen">
    <div class="start-card">
      <img src="logo-qx.png" alt="–ö–≤–∞–Ω—Ç –ò–∫—Å" class="start-logo">
      <h2 class="start-title">–ö–í–ê–ù–¢–û–í–´–ô –ü–û–†–¢–ê–õ</h2>
      <p class="start-sub">–§–∏–∑–º–∞—Ç‚Äë–∏–≥—Ä—ã –∏ –∫–≤–∞–Ω—Ç–æ–≤–∞—è –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∞</p>

      <div class="start-buttons">
        <button class="primary" data-target="crossword">–ö—Ä–æ—Å—Å–≤–æ—Ä–¥</button>
        <button class="primary" data-target="philword">–§–∏–ª–≤–æ—Ä–¥</button>
        <button class="primary" data-target="sudoku">–°—É–¥–æ–∫—É</button>
        <button class="primary" data-target="quant">–ö–≤–∞–Ω—Ç</button>
        <!-- –ó–∞–≥–ª—É—à–∫–∞ –ø–æ–¥ –±—É–¥—É—â–∏–µ –∏–≥—Ä—ã -->
        <!-- <button class="primary" data-target="future">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button> -->
      </div>

      <div class="start-footer">
        <button class="action" id="btn-open-stats">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
        <button class="danger" id="btn-reset-stats">‚ôª –°–±—Ä–æ—Å–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
      </div>
    </div>
  </div>

  <!-- ====== –ü–û–ü–ê–ü –°–¢–ê–¢–ò–°–¢–ò–ö–ò ====== -->
  <div id="stats-popup" class="stats-backdrop" style="display:none;">
    <div class="stats-modal">
      <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—Ä—Ç–∞–ª–∞</h3>
      <p class="stats-note">–î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ.</p>

      <div class="stats-grid" id="stats-content">
        <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è JS -->
      </div>

      <div class="stats-actions">
        <button class="primary" id="btn-close-stats">OK</button>
      </div>
    </div>
  </div>

  <!-- ====== –ü–û–ü–ê–ü –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–Ø (–æ–±—â–µ–µ –æ–∫–Ω–æ) ====== -->
  <div id="qp-popup" style="display:none" class="popup-backdrop">
    <div class="popup">
      <p id="qp-popup-text"></p>
      <div class="popup-actions">
        <button id="qp-popup-ok" class="primary">–î–∞</button>
        <button id="qp-popup-cancel" class="danger">–ù–µ—Ç</button>
      </div>
    </div>
  </div>

  <!-- ====== –í–ï–†–•–ù–ï–ï –ú–ï–ù–Æ / –ù–ê–í–ò–ì–ê–¶–ò–Ø ====== -->
  <nav>
    <button id="btn-main-menu" class="tab menu-tab" type="button">–ú–µ–Ω—é</button>
    <button class="tab active" onclick="switchTab('crossword')">–ö—Ä–æ—Å—Å–≤–æ—Ä–¥</button>
    <button class="tab" onclick="switchTab('philword')">–§–∏–ª–≤–æ—Ä–¥</button>
    <button class="tab" onclick="switchTab('sudoku')">–°—É–¥–æ–∫—É</button>
    <button class="tab" onclick="switchTab('quant')">–ö–≤–∞–Ω—Ç</button>
  </nav>

  <div class="header-area">
    <h1>‚¨° –ö–í–ê–ù–¢–û–í–´–ô –ü–û–†–¢–ê–õ</h1>
    <p class="sub" id="sub-title">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</p>
  </div>

  <!-- ====== –ö–†–û–°–°–í–û–†–î ====== -->
  <div id="sec-crossword" class="game-section active">
    <div class="controls">
      <div class="control-group">
        <select id="sel-theme">
          <option value="—Ñ–∏–∑–∏–∫–∞">–§–∏–∑–∏–∫–∞</option>
          <option value="–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</option>
          <option value="—Ñ–∏–∑–º–∞—Ç">–§–∏–∑–ú–∞—Ç (–ú–∏–∫—Å)</option>
        </select>
        <select id="sel-level">
          <option value="–ª–µ–≥–∫–∏–π">–õ—ë–≥–∫–∏–π</option>
          <option value="—Å—Ä–µ–¥–Ω–∏–π">–°—Ä–µ–¥–Ω–∏–π</option>
          <option value="—Å–ª–æ–∂–Ω—ã–π">–°–ª–æ–∂–Ω—ã–π</option>
        </select>
      </div>
      <div class="control-group">
        <button class="primary" onclick="onGenerate()">‚ü≥ –°–æ–∑–¥–∞—Ç—å</button>
        <button class="action" onclick="onToggleAnswers()" id="btn-answ">üëÅ –û—Ç–≤–µ—Ç—ã</button>
        <button class="danger"
                onclick="usedWordsHistory.clear(); document.getElementById('stat').textContent='‚ôª –ò—Å—Ç–æ—Ä–∏—è —Å–±—Ä–æ—à–µ–Ω–∞';">
          ‚ôª –°–±—Ä–æ—Å
        </button>
      </div>
    </div>

    <div class="stat-line" id="stat">–ì–æ—Ç–æ–≤ –∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</div>

    <div class="main-container">
      <div class="game-area">
        <div id="active-q-panel">–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫—Ä–æ—Å—Å–≤–æ—Ä–¥ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–ª–µ—Ç–∫—É</div>
        <canvas id="cv"></canvas>

        <!-- –ö–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –º–æ–±–∏–ª–æ–∫ -->
        <div id="cw-keypad">
          <div class="cw-row">
            <button onclick="handleInput('–ô')">–ô</button>
            <button onclick="handleInput('–¶')">–¶</button>
            <button onclick="handleInput('–£')">–£</button>
            <button onclick="handleInput('–ö')">–ö</button>
            <button onclick="handleInput('–ï')">–ï</button>
            <button onclick="handleInput('–ù')">–ù</button>
            <button onclick="handleInput('–ì')">–ì</button>
            <button onclick="handleInput('–®')">–®</button>
            <button onclick="handleInput('–©')">–©</button>
            <button onclick="handleInput('–ó')">–ó</button>
            <button onclick="handleInput('–•')">–•</button>
            <button onclick="handleInput('–™')">–™</button>
          </div>
          <div class="cw-row">
            <button onclick="handleInput('–§')">–§</button>
            <button onclick="handleInput('–´')">–´</button>
            <button onclick="handleInput('–í')">–í</button>
            <button onclick="handleInput('–ê')">–ê</button>
            <button onclick="handleInput('–ü')">–ü</button>
            <button onclick="handleInput('–†')">–†</button>
            <button onclick="handleInput('–û')">–û</button>
            <button onclick="handleInput('–õ')">–õ</button>
            <button onclick="handleInput('–î')">–î</button>
            <button onclick="handleInput('–ñ')">–ñ</button>
            <button onclick="handleInput('–≠')">–≠</button>
          </div>
          <div class="cw-row">
            <button onclick="handleInput('–Ø')">–Ø</button>
            <button onclick="handleInput('–ß')">–ß</button>
            <button onclick="handleInput('–°')">–°</button>
            <button onclick="handleInput('–ú')">–ú</button>
            <button onclick="handleInput('–ò')">–ò</button>
            <button onclick="handleInput('–¢')">–¢</button>
            <button onclick="handleInput('–¨')">–¨</button>
            <button onclick="handleInput('–ë')">–ë</button>
            <button onclick="handleInput('–Æ')">–Æ</button>
            <button onclick="handleInput('–Å')">–Å</button>
            <button onclick="handleInput('Backspace')" class="cw-del">‚å´</button>
          </div>
        </div>
      </div>

      <div id="sidebar" class="collapsed"
           onclick="if(this.classList.contains('collapsed')) toggleSidebar()">
        <div class="sb-header">
          <h2 class="sb-title">–°–ü–ò–°–û–ö –í–û–ü–†–û–°–û–í</h2>
          <button class="toggle-btn" onclick="toggleSidebar(event)">‚ùØ</button>
        </div>
        <div class="sb-content" id="cluesList"></div>
      </div>
    </div>
  </div>

  <!-- ====== –§–ò–õ–í–û–†–î ====== -->
  <div id="sec-philword" class="game-section">
    <div class="controls">
      <div class="control-group">
        <select id="sel-theme-ph">
          <option value="—Ñ–∏–∑–∏–∫–∞">–§–∏–∑–∏–∫–∞</option>
          <option value="–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</option>
          <option value="—Ñ–∏–∑–º–∞—Ç">–§–∏–∑–ú–∞—Ç (–ú–∏–∫—Å)</option>
        </select>
        <select id="sel-level-ph">
          <option value="–ª–µ–≥–∫–∏–π">–õ—ë–≥–∫–∏–π</option>
          <option value="—Å—Ä–µ–¥–Ω–∏–π">–°—Ä–µ–¥–Ω–∏–π</option>
          <option value="—Å–ª–æ–∂–Ω—ã–π">–°–ª–æ–∂–Ω—ã–π</option>
        </select>
        <select id="sel-size-ph">
          <option value="12">–°–µ—Ç–∫–∞ 12√ó12</option>
          <option value="14" selected>–°–µ—Ç–∫–∞ 14√ó14</option>
          <option value="16">–°–µ—Ç–∫–∞ 16√ó16</option>
        </select>
      </div>

      <div class="control-group">
        <button class="primary" onclick="philGenerate()">‚ü≥ –°–æ–∑–¥–∞—Ç—å</button>
        <button class="action" onclick="philToggleAnswers()" id="btn-ph-answ">üëÅ –û—Ç–≤–µ—Ç—ã</button>
        <button class="danger"
                onclick="philUsedWordsHistory.clear(); document.getElementById('phil-stat').textContent='‚ôª –ò—Å—Ç–æ—Ä–∏—è —Ñ–∏–ª–≤–æ—Ä–¥–∞ —Å–±—Ä–æ—à–µ–Ω–∞';">
          ‚ôª –°–±—Ä–æ—Å
        </button>
      </div>
    </div>

    <div class="stat-line" id="phil-stat">–ì–æ—Ç–æ–≤ –∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–∏–ª–≤–æ—Ä–¥–∞</div>

    <div class="main-container">
      <div class="game-area">
        <div id="phil-active-panel">–ù–∞–∂–º–∏—Ç–µ ¬´–°–æ–∑–¥–∞—Ç—å¬ª, –∑–∞—Ç–µ–º –≤—ã–¥–µ–ª—è–π—Ç–µ —Å–ª–æ–≤–∞ –ø—Ä–æ—Ç—è–∂–∫–æ–π –ø–æ –±—É–∫–≤–∞–º</div>
        <canvas id="cvPhil"></canvas>
      </div>

      <div id="philSidebar">
        <div class="sb-header" onclick="toggleSidebar(event)">
          <h2 class="sb-title" style="opacity:1">–°–õ–û–í–ê –î–õ–Ø –ü–û–ò–°–ö–ê</h2>
          <button class="toggle-btn">‚ùØ</button>
        </div>
        <div class="sb-content" id="philWords"></div>
      </div>
    </div>
  </div>

  <!-- ====== –°–£–î–û–ö–£ ====== -->
  <div id="sec-sudoku" class="game-section">
    <div class="controls">
      <div class="control-group">
        <select id="sel-diff-su">
          <option value="easy">–õ—ë–≥–∫–∏–π</option>
          <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
          <option value="hard">–°–ª–æ–∂–Ω—ã–π</option>
          <option value="insane">–ë–µ–∑—É–º–Ω—ã–π</option>
        </select>
      </div>

      <div class="control-group">
        <button class="primary" onclick="sudokuGenerate()">‚ü≥ –°–æ–∑–¥–∞—Ç—å</button>
        <button class="action" onclick="sudokuCheck()" id="btn-su-check">‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
        <button class="danger" onclick="sudokuReset()">‚ôª –°–±—Ä–æ—Å</button>
      </div>
    </div>

    <div class="stat-line" id="su-stat">–ì–æ—Ç–æ–≤ –∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—É–¥–æ–∫—É</div>

    <div class="main-container">
      <div class="game-area">
        <div id="su-active-panel">–í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–µ—Ç–∫—É –∏ –≤–≤–µ–¥–∏—Ç–µ —Ü–∏—Ñ—Ä—É (1-9)</div>
        <canvas id="cvSudoku"></canvas>

        <div class="su-numpad">
          <button onclick="sudokuInput(1)">1</button>
          <button onclick="sudokuInput(2)">2</button>
          <button onclick="sudokuInput(3)">3</button>
          <button onclick="sudokuInput(4)">4</button>
          <button onclick="sudokuInput(5)">5</button>
          <button onclick="sudokuInput(6)">6</button>
          <button onclick="sudokuInput(7)">7</button>
          <button onclick="sudokuInput(8)">8</button>
          <button onclick="sudokuInput(9)">9</button>
          <button onclick="sudokuInput(0)" class="clr">‚å´</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ====== –ö–í–ê–ù–¢ ====== -->
  <div id="sec-quant" class="game-section">
    <div class="controls">
      <div class="control-group">
        <select id="sel-theme-qnt">
          <option value="—Ñ–∏–∑–∏–∫–∞">–§–∏–∑–∏–∫–∞</option>
          <option value="–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</option>
          <option value="—Ñ–∏–∑–º–∞—Ç">–§–∏–∑–ú–∞—Ç (–ú–∏–∫—Å)</option>
        </select>
        <select id="sel-level-qnt">
          <option value="–ª–µ–≥–∫–∏–π">–õ—ë–≥–∫–∏–π</option>
          <option value="—Å—Ä–µ–¥–Ω–∏–π">–°—Ä–µ–¥–Ω–∏–π</option>
          <option value="—Å–ª–æ–∂–Ω—ã–π">–°–ª–æ–∂–Ω—ã–π</option>
        </select>
      </div>
      <div class="control-group">
        <button class="primary" onclick="quantGenerate()">‚ü≥ –ù–æ–≤–æ–µ —Å–ª–æ–≤–æ</button>
        <button class="action" onclick="quantShowHint()" id="btn-qnt-hint">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</button>
        <button class="danger" onclick="quantReset()">‚ôª –°–±—Ä–æ—Å</button>
      </div>
    </div>
    <div class="stat-line" id="qnt-stat">–ì–æ—Ç–æ–≤ –∫ –∏–≥—Ä–µ –ö–≤–∞–Ω—Ç</div>
    <div class="main-container" style="flex-direction: column; align-items: center;">
      <div class="game-area">
        <div id="qnt-active-panel">–£–≥–∞–¥–∞–π—Ç–µ —Å–ª–æ–≤–æ (6 –ø–æ–ø—ã—Ç–æ–∫)</div>
        <div class="qnt-grid" id="qntGrid"></div>
        <div class="qnt-keyboard" id="qntKeyboard"></div>
        <div class="qnt-stats">
          <div class="qnt-stat-item">
            <div class="qnt-stat-value" id="qnt-attempts">6</div>
            <div>–ü–æ–ø—ã—Ç–æ–∫</div>
          </div>
          <div class="qnt-stat-item">
            <div class="qnt-stat-value" id="qnt-wins">0</div>
            <div>–ü–æ–±–µ–¥</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ====== –°–ö–†–ò–ü–¢–´ ====== -->
  <script src="db.js"></script>
  <script src="core.js"></script>
  <script src="crossword.js"></script>
  <script src="philword.js"></script>
  <script src="sudoku.js"></script>
  <script src="quant.js"></script>
</body>
</html>
